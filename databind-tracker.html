<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-list/iron-list.html">


<dom-module id="databind-tracker">
<template>
 <iron-list items="[[items]]" as="item">
    <template>
      <div>
        Date: [[item.date]] [[item.p0]] [[item.p1]] [[item.p2]] [[item.p3]]
      </div>
    </template>
  </iron-list>
</template>
<script>
Polymer({
    is: "databind-tracker",
    properties: {
        p0: {
            type: String,
            observer: '_pChanged'
        },
        p1: {
            type: String,
            observer: '_pChanged'
        },
        p2: {
            type: String,
            observer: '_pChanged'
        },
        p3: {
            type: String,
            observer: '_pChanged'
        },
        items: {
            type: Array,
            value: [],
            notify: true
        }
    },
   /*observers: [
        'dummy(items.*)'
    ],*/
    _pChanged: function(){
        var record = {date: Date.now(),p0:this.p0,p1:this.p1,p2:this.p2,p3:this.p3};
        this.unshift('items',record);
        //this.fire('data2-changed',this.data);
    }/*,
    dummy: function(val){
        this.fire('data2-changed',this.items);
        console.log(this.items);
    }*/
});
</script>
</dom-module>